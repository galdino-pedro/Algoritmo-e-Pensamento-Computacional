#include <stdio.h>

#define MAX_NOTAS 100

// ===== Fun√ß√µes da Etapa 5 =====

// Calcula e retorna a m√©dia das notas
float calcularMedia(float notas[], int quantidade) {
    float soma = 0;
    for (int i = 0; i < quantidade; i++) {
        soma += notas[i];
    }
    return soma / quantidade;
}

// Retorna a maior nota
float maiorNota(float notas[], int quantidade) {
    float maior = notas[0];
    for (int i = 1; i < quantidade; i++) {
        if (notas[i] > maior)
            maior = notas[i];
    }
    return maior;
}

// Retorna a menor nota
float menorNota(float notas[], int quantidade) {
    float menor = notas[0];
    for (int i = 1; i < quantidade; i++) {
        if (notas[i] < menor)
            menor = notas[i];
    }
    return menor;
}


// ========== PROGRAMA PRINCIPAL ==========
int main() {
    float notas[MAX_NOTAS];
    int quantidade = 0;
    float nota;
    char continuar;
    int opcao;

    printf("* Calculadora de Estat√≠sticas de Notas *\n");
    printf("Digite as notas dos alunos (0 a 10). Digite -1 para encerrar.\n");

    // ===== Etapa 3: Estruturas de Repeti√ß√£o =====
    do {
        printf("\n--- Cadastro de Notas ---\n");

        while (quantidade < MAX_NOTAS) {
            printf("Nota %d: ", quantidade + 1);
            scanf("%f", &nota);

            if (nota == -1) {
                break;
            }

            if (nota >= 0 && nota <= 10) {
                notas[quantidade] = nota;
                quantidade++;
            } else {
                int erroTipo = (nota < 0) ? 1 : 2;

                switch (erroTipo) {
                    case 1:
                        printf("‚ö†Ô∏è Erro: Nota inv√°lida! Valor menor que 0.\n");
                        break;
                    case 2:
                        printf("‚ö†Ô∏è Erro: Nota inv√°lida! Valor maior que 10.\n");
                        break;
                    default:
                        printf("‚ö†Ô∏è Erro desconhecido!\n");
                        break;
                }
            }
        }

        // Exibe notas
        printf("\nNotas inseridas:\n");
        for (int i = 0; i < quantidade; i++) {
            printf("Aluno %d: %.2f\n", i + 1, notas[i]);
        }

        // ===== Etapa 5: Menu de estat√≠sticas =====
        if (quantidade > 0) {
            do {
                printf("\n===== MENU ESTAT√çSTICO =====\n");
                printf("1 - Calcular M√©dia\n");
                printf("2 - Mostrar Maior Nota\n");
                printf("3 - Mostrar Menor Nota\n");
                printf("4 - Voltar ao Cadastro\n");
                printf("Escolha uma op√ß√£o: ");
                scanf("%d", &opcao);

                switch (opcao) {
                    case 1:
                        printf("üìä M√©dia das notas: %.2f\n", calcularMedia(notas, quantidade));
                        break;
                    case 2:
                        printf("‚¨ÜÔ∏è Maior nota: %.2f\n", maiorNota(notas, quantidade));
                        break;
                    case 3:
                        printf("‚¨áÔ∏è Menor nota: %.2f\n", menorNota(notas, quantidade));
                        break;
                    case 4:
                        printf("Voltando ao cadastro...\n");
                        break;
                    default:
                        printf("Op√ß√£o inv√°lida!\n");
                }

            } while (opcao != 4);
        }

        printf("\nDeseja cadastrar mais notas? (S/N): ");
        scanf(" %c", &continuar);

    } while (continuar == 'S' || continuar == 's');

    printf("\nPrograma encerrado. Total de notas v√°lidas: %d\n", quantidade);
    return 0;
}
